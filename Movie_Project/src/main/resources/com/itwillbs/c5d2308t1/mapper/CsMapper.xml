<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.itwillbs.c5d2308t1.mapper.CsMapper">
	<!-- 고객센터 문의글 등록 - INSERT -->
	<!-- 구문 실행 후 자동으로 int 타입 결과값 리턴됨 -->
	<insert id="insertBoard">
		INSERT INTO cs
		VALUES (
			null
			, #{cs_subject}
			, #{cs_content}
			, now()
			, #{cs_type}
			, #{cs_type_detail}
			, #{cs_file}
			, null
			, 0
			, null
			, #{member_id}
		)		
	</insert>
	
	<!-- cs 메인에 자주묻는 질문 5개 출력, 전체 클릭 시 전체 내용 출력 -->
	<select id="selectFaqList" resultType="com.itwillbs.c5d2308t1.vo.CsVO">
		SELECT * FROM cs
		WHERE cs_type = "자주묻는질문";
	</select>
	
	<!--  자주묻는질문 세부항목별로 모아보기 -->
	<select id="selectFaqDetail" resultType="com.itwillbs.c5d2308t1.vo.CsVO">
		SELECT * FROM cs
		WHERE cs_type = "자주묻는질문" AND cs_type_detail = #{buttonName};
	</select>
	
	<!--  자주묻는질문 검색 -->
	<select id="selectFaqSearch" resultType="com.itwillbs.c5d2308t1.vo.CsVO">
		SELECT * FROM cs
		WHERE cs_type = "자주묻는질문" 
			AND (cs_subject LIKE "%"#{searchValue}"%"
			OR cs_content LIKE "%"#{searchValue}"%"
			OR cs_type_detail LIKE "%"#{searchValue}"%");
	</select>
	
	<!-- 자주묻는질문 갯수 세기 -->
	<select id="selectFaqListCount" resultType="int">
		SELECT COUNT(*) FROM cs
		WHERE cs_type = "자주묻는질문";
	</select>
	
	<!-- cs 메인에 공지사항 5개 출력 -->
	<select id="selectNoticeList" resultType="com.itwillbs.c5d2308t1.vo.CsVO">
		SELECT * FROM cs
		WHERE cs_type = "공지사항";
	</select>
	
	<!-- 공지사항 갯수 세기 -->
	<select id="selectNoticeListCount" resultType="int">
		SELECT COUNT(*) FROM cs
		WHERE cs_type = "공지사항";
	</select>

	
</mapper>




